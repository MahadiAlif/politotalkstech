---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import ContentCard from '../../components/ContentCard.astro';

const clubs = await getCollection('clubs');
---

<BaseLayout title="Clubs - PolitoTalksTech">
  <div class="page-header">
    <div class="container">
      <h1>Student Clubs</h1>
      <p>Join thriving tech communities and connect with like-minded students at Politecnico di Torino.</p>
    </div>
  </div>

  <div class="main-content">
    <div class="container container--narrow">
      <section class="content-list">
        {clubs.map(club => (
          <ContentCard
            title={club.data.title}
            author="PolitoTalksTech"
            date={new Date()}
            excerpt={club.data.description}
            href={`/clubs/${club.slug}`}
            tags={club.data.tags}
            metadata={`${club.data.members} members`}
          />
        ))}
      </section>
    </div>
  </div>
</BaseLayout>

<style>
.page-header {
  border-bottom: 1px solid var(--color-border);
  padding: var(--space-8) 0;
}

.page-header h1 {
  font-family: var(--font-serif);
  font-size: var(--text-4xl);
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 var(--space-3) 0;
}

.page-header p {
  font-size: var(--text-lg);
  color: var(--color-text-secondary);
  max-width: 680px;
  margin: 0;
}

.main-content {
  padding: var(--space-8) 0;
}

.content-list {
  max-width: 800px;
  margin: 0 auto;
}
</style>
